import { useRoute } from "#app";
import { computed, ref } from "#imports";
import { useDynamicRouteParam } from "../../../composables/extend/dynamicRoute/useDynamicRouteParam.js";
export function useViewStateDynamicRoute(prop) {
  const route = useRoute();
  const lang = useDynamicRouteParam("lang");
  const model = computed({
    // getter 関数
    get() {
      return route.meta[`${prop.key}:${lang.value}`] || route.meta[prop.key] || "";
    },
    // setter 関数
    set(_) {
      throw new Error("Does not support changing RouteMeta");
    }
  });
  return {
    model,
    updated: ref(false),
    status: ref(200)
  };
}
