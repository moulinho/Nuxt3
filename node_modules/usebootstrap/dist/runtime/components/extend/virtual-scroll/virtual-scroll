<script setup lang="ts">
import { useToggle, useVirtualList } from '@vueuse/core';
import { useAttrs } from '#imports';
 
const props = defineProps({
 height: {
  type: String,
  default: '200px',
 },
 itemHeightPixel: {
  type: Number,
  default: 22,
 },
 data: {
  type: Array,
  required: true,
 },
});

const { list, containerProps, wrapperProps } = useVirtualList(
 computed (() =>  props.data),
 {
  itemHeight: props.itemHeightPixel,
 },
);

const itemHeight = computed(() => `${props.itemHeightPixel}px`);


</script>


<template>
 <div
  v-bind="containerProps"
  style="height: 200px"
 >
  <div v-bind="wrapperProps">
   <div
    v-for="item in list"
    :key="item.index"
     class="virtual-scroll-item"
   >
    <slot :data="item.data" />
   </div>
  </div>
 </div>
</template>
<style scoped>
.virtual-scroll {
 height: v-bind(height);
}
.virtual-scroll-item {
 height: v-bind(itemHeight);
}
</style>

